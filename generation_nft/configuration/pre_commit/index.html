
<!doctype html>
<html lang="fr" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Documentation pour le projet Pronochain et ses solutions.">
      
      
        <meta name="author" content="Pronochain">
      
      
      <link rel="icon" href="../../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.2.3, mkdocs-material-8.1.4">
    
    
      
        <title>Pre-Commit - Pronochain</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/main.bb3983ee.min.css">
      
        
        <link rel="stylesheet" href="../../../assets/stylesheets/palette.e6a45f82.min.css">
        
      
    
    
    
      
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../../stylesheets/extra.css">
    
    <script>__md_scope=new URL("../../..",location),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="pronochain" data-md-color-primary="" data-md-color-accent="">
  
    
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#pre-commit" class="md-skip">
          Aller au contenu
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="En-tête">
    <a href="../../.." title="Pronochain" class="md-header__button md-logo" aria-label="Pronochain" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Pronochain
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Pre-Commit
            
          </span>
        </div>
      </div>
    </div>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Rechercher" placeholder="Rechercher" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" aria-label="Effacer" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initialisation de la recherche
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../.." title="Pronochain" class="md-nav__button md-logo" aria-label="Pronochain" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    Pronochain
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../.." class="md-nav__link">
        Accueil
      </a>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2" type="checkbox" id="__nav_2" >
      
      
      
      
        <label class="md-nav__link" for="__nav_2">
          Global
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Global" data-md-level="1">
        <label class="md-nav__title" for="__nav_2">
          <span class="md-nav__icon md-icon"></span>
          Global
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2_1" type="checkbox" id="__nav_2_1" >
      
      
      
      
        <label class="md-nav__link" for="__nav_2_1">
          Configuration
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Configuration" data-md-level="2">
        <label class="md-nav__title" for="__nav_2_1">
          <span class="md-nav__icon md-icon"></span>
          Configuration
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../global/configuration/documentation/" class="md-nav__link">
        Documentation
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3" type="checkbox" id="__nav_3" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_3">
          Génération NFT
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Génération NFT" data-md-level="1">
        <label class="md-nav__title" for="__nav_3">
          <span class="md-nav__icon md-icon"></span>
          Génération NFT
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../" class="md-nav__link">
        Initialisation
      </a>
    </li>
  

            
          
            
              
  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_2" type="checkbox" id="__nav_3_2" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_3_2">
          Configuration
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Configuration" data-md-level="2">
        <label class="md-nav__title" for="__nav_3_2">
          <span class="md-nav__icon md-icon"></span>
          Configuration
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../variables_environnements/" class="md-nav__link">
        Variables d'environnements
      </a>
    </li>
  

            
          
            
              
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          Pre-commit
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        Pre-commit
      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table des matières">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table des matières
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#pre-requis-et-listing-des-regles" class="md-nav__link">
    Pré-requis et listing des règles
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#configuration-et-installation" class="md-nav__link">
    Configuration et installation
  </a>
  
    <nav class="md-nav" aria-label="Configuration et installation">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#installation" class="md-nav__link">
    Installation
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mettre-a-jour" class="md-nav__link">
    Mettre à jour
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#utilisation" class="md-nav__link">
    Utilisation
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../vs_code/" class="md-nav__link">
        Visual Studio Code
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_3" type="checkbox" id="__nav_3_3" >
      
      
      
      
        <label class="md-nav__link" for="__nav_3_3">
          Python
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Python" data-md-level="2">
        <label class="md-nav__title" for="__nav_3_3">
          <span class="md-nav__icon md-icon"></span>
          Python
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../python/architecture/" class="md-nav__link">
        Architecture
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../python/packages/" class="md-nav__link">
        Packages
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../python/tests/" class="md-nav__link">
        Tests
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../python/regles/" class="md-nav__link">
        Règles et nomenclatures
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../python/logging/" class="md-nav__link">
        Logging
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_4" type="checkbox" id="__nav_3_4" >
      
      
      
      
        <label class="md-nav__link" for="__nav_3_4">
          Fonctionnalités
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Fonctionnalités" data-md-level="2">
        <label class="md-nav__title" for="__nav_3_4">
          <span class="md-nav__icon md-icon"></span>
          Fonctionnalités
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../fonctionnalites/face_detect/" class="md-nav__link">
        Détection d'un visage
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../fonctionnalites/face_landmarks/" class="md-nav__link">
        Masques du visage
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../fonctionnalites/face_aligner/" class="md-nav__link">
        Alignement du visage
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../fonctionnalites/tilt_learning/" class="md-nav__link">
        Direction du visage
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../fonctionnalites/face_parsing/" class="md-nav__link">
        Récupération des parties du visage
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4" type="checkbox" id="__nav_4" >
      
      
      
      
        <label class="md-nav__link" for="__nav_4">
          Application Mobile
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Application Mobile" data-md-level="1">
        <label class="md-nav__title" for="__nav_4">
          <span class="md-nav__icon md-icon"></span>
          Application Mobile
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../application_mobile/" class="md-nav__link">
        Initialisation
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../application_mobile/aide/" class="md-nav__link">
        Aides
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../application_mobile/methode/" class="md-nav__link">
        Autres
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../../bdd/bdd/" class="md-nav__link">
        Base de donnée
      </a>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_6" type="checkbox" id="__nav_6" >
      
      
      
      
        <label class="md-nav__link" for="__nav_6">
          API
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="API" data-md-level="1">
        <label class="md-nav__title" for="__nav_6">
          <span class="md-nav__icon md-icon"></span>
          API
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_6_1" type="checkbox" id="__nav_6_1" >
      
      
      
      
        <label class="md-nav__link" for="__nav_6_1">
          Configuration
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Configuration" data-md-level="2">
        <label class="md-nav__title" for="__nav_6_1">
          <span class="md-nav__icon md-icon"></span>
          Configuration
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../api/configuration/husky/" class="md-nav__link">
        Husky
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../api/configuration/php_cs_fixer/" class="md-nav__link">
        PhpCsFixer
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../api/configuration/lint_staged/" class="md-nav__link">
        Lint Staged
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../api/configuration/commitlint/" class="md-nav__link">
        Commitlint
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../api/configuration/standard_version/" class="md-nav__link">
        Standard Version
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table des matières">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table des matières
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#pre-requis-et-listing-des-regles" class="md-nav__link">
    Pré-requis et listing des règles
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#configuration-et-installation" class="md-nav__link">
    Configuration et installation
  </a>
  
    <nav class="md-nav" aria-label="Configuration et installation">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#installation" class="md-nav__link">
    Installation
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mettre-a-jour" class="md-nav__link">
    Mettre à jour
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#utilisation" class="md-nav__link">
    Utilisation
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content" data-md-component="content">
            <article class="md-content__inner md-typeset">
              
                

<h1 id="pre-commit">Pre-Commit</h1>
<p><strong>pre-commit</strong> est un outil basé sur les <strong>git-hooks</strong>. Un git hook est une <strong>action réalisée avant ou après une commande git</strong>. Dans notre cas, pre-commit va s'appliquer avant la création du commit. Lorsque vous rentrerez la commande :</p>
<pre><code>git commit
</code></pre>
<p>Les git-hooks de pre-commit vont se lancer. Si jamais un git-hook <strong>détecte</strong> que le <strong>code n'est pas conforme</strong>, vous ne pourrez pas créer le commit. À l'inverse, si le code est valide, vous pourrez saisir le nom du commit et le push.</p>
<h2 id="pre-requis-et-listing-des-regles">Pré-requis et listing des règles</h2>
<p>L'outil pre-commit <strong>par défaut</strong> ne contient <strong>aucune règle</strong>. Il faut les <strong>choisir</strong> en fonction du langage et de ce que l'on souhaite. Dans le cas du langage Python, les règles <strong>PEP</strong>, règle standardisant le langage, doivent être respectées.
De base chaque règle de pre-commit se matérialise sous la forme d'un package (<strong>lien git</strong>). Vous n'avez pas besoin de les installer manuellement. Ils sont tous déjà dans le fichier <strong><em>requirements-dev.txt</em></strong>.</p>
<p>Voici la <strong>liste</strong> des toutes les <strong>règles</strong> qui seront appliquées pour <strong>notre solution</strong> :</p>
<ul>
<li>
<p><strong>pre-commit-hooks</strong> <sup><a href="https://github.com/pre-commit/pre-commit-hooks">GIT</a></sup> :
    Ces règles ne sont pas propres à un langage. C'est les règles officielles du créateur de l'outil pre-commit. Elles permettent de respecter quelques notions globales dans le monde du développement. Cependant, ici, nous utilisons pre-commit version python :</p>
<ul>
<li><strong>trailing-whitespace</strong> : <span style="font-size:13px">supprime les <strong>espaces</strong> en <strong>fin de ligne</strong>.</span></li>
<li><strong>end-of-file-fixer</strong> : <span style="font-size:13px">s'assure que la <strong>dernière ligne</strong> d'un fichier, même vide, soit une <strong>nouvelle ligne</strong>.</span></li>
<li><strong>check-docstring-first</strong> : <span style="font-size:13px">un fichier doit toujours comporter une <strong>documentation en premier</strong> et non après le code.</span></li>
<li><strong>check-merge-conflict</strong> : <span style="font-size:13px">vérifie qu'<strong>aucun merge conflit</strong> n'est présent dans un fichier. Détecte grâce aux balises générées par GIT lorsqu'il y'en a un.</span></li>
<li><strong>debug-statements</strong> : <span style="font-size:13px">vérifie qu'<strong>aucune fonction de debug</strong> n'est importée. Par exemple, si un <strong>print</strong> est présent, il ne sera pas possible de commit le code.</span></li>
<li><strong>fix-encoding-pragma</strong> : <span style="font-size:13px"><strong>ajoute</strong> <strong><em># -</em>- coding: utf-8 -*-</strong>* au début de chaque fichiers python.</span></li>
</ul>
</li>
<li>
<p><strong>black</strong> <sup><a href="https://github.com/psf/black">GIT</a></sup> : <strong>formate le code automatiquement</strong>. Doit être combiner avec la configuration de votre visual studio code pour une utilisation optimale. Une documentation est présente sur ce sujet dans <strong><em>"Configuration" -&gt; "Visual Studio Code"</em></strong>.</p>
</li>
<li>
<p><strong>flake8</strong> <sup><a href="https://github.com/PyCQA/flake8">GIT</a></sup> : <strong>linter</strong>, vérifie que les règles principales de python sont respectées. Flake8 indiquera uniquement si une règle n'est pas respecter, il ne modifiera en aucun cas le fichier. Il existe, pour lui aussi, une <strong>extension Visual Studio Code</strong> pour vous faciliter le travail.</p>
</li>
<li>
<p><strong>pydocstyle</strong> <sup><a href="https://github.com/PyCQA/pydocstyle">GIT</a></sup> : <strong>vérifie</strong> que le code python soit <strong>bien documenté</strong>. Un raccourci existe pour ajouter un pattern d'un commentaire sous une fonction.</p>
</li>
<li>
<p><strong>isort</strong> <sup><a href="https://github.com/PyCQA/isort">GIT</a></sup> : <strong>réorganise</strong> les imports python avec des règles bien <strong>précises</strong>.</p>
</li>
<li>
<p><strong>vulture</strong> <sup><a href="https://github.com/jendrikseipp/vulture">GIT</a></sup> : <strong>détecte</strong> les codes <strong>inutilisés</strong>.</p>
</li>
<li>
<p><strong>gitlint</strong> <sup><a href="https://github.com/jorisroovers/gitlint">GIT</a></sup> : vérifie la <strong>conformité du message du commit</strong>. La vérification est basé sur la convention config (<strong>config-conventional</strong>).</p>
<details class="info not-expand" open="open">
<summary>Example: feat(face-parts): Récupérer les parties du visages (Task(s): #254)</summary>
</details>
</li>
</ul>
<details class="info" open="open">
<summary>Désactiver une règle</summary>
<p>Il est possible de <strong>désactiver</strong> une règle. Voir leur documentation pour savoir comment faire (diffère selon les règles).</p>
</details>
<details class="info">
<summary>Fichier de configuration</summary>
<p>C'est grâce au fichier <strong><em>.pre-commit-config.yaml</em></strong> que l'on choisit les règles à installer. De plus, chaque règles a des <strong>paramètres</strong> qui lui est propre. En général, ils se trouvent dans le fichier <strong><em>pyproject.toml</em></strong>.</p>
</details>
<details class="tip">
<summary>Liste de toutes les règles existantes</summary>
<p>Rendez-vous sur le site <a href="https://pre-commit.com/hooks.html">pre-commit.com</a> pour voir toutes les règles/hooks possibles.</p>
</details>
<h2 id="configuration-et-installation">Configuration et installation</h2>
<p>Les fichiers de configuration de <strong>pre-commit</strong> sont:</p>
<ul>
<li><strong><em>.pre-commit-config.yaml</em></strong></li>
<li><strong><em>setup.cfg</em></strong></li>
<li><strong><em>pyproject.toml</em></strong></li>
</ul>
<h3 id="installation">Installation</h3>
<p>Pour <strong>installer</strong> localement tous les <strong>git-hooks</strong>, il suffit de faire ces deux commandes à la racine du projet :</p>
<pre><code>pre-commit install
pre-commit install --hook-type commit-msg
</code></pre>
<h3 id="mettre-a-jour">Mettre à jour</h3>
<p>Pour <strong>mettre à jour</strong> automatiquement la <strong>configuration de pre-commit</strong> vers les dernières versions des <strong>dépôts</strong> :</p>
<pre><code>pre-commit autoupdate
</code></pre>
<p>Pour mettre à jour le package <strong>pre-commit</strong> :</p>
<pre><code>python -m pip install pre-commit -U
</code></pre>
<details class="danger not-expand" open="open">
<summary>Activer l'environnement virtuel avant d'exécuter la commande : pronochain/Scripts/activate</summary>
</details>
<p>Si vous souhaitez remettre àjour au moment du commit, il suffit de tapez cette commande :</p>
<pre><code>pre-commit clean
</code></pre>
<h2 id="utilisation">Utilisation</h2>
<p>Une fois installés, <strong>les hooks</strong> se lanceront à chaque commit sur les <strong>fichiers modifiés seulement</strong>.
Chaque git-hook va être vérifié <strong>avant de pouvoir créer le commit</strong>, si un fichier modifié comporte une erreur, vous ne pourrez pas créer ce commit. Comme déjà expliquer précédemment, certains git-hook vont <strong>modifier le code directement</strong>, certains vont juste vous <strong>indiquer les modifications</strong> à faire ou les <strong>erreurs detectées</strong>.</p>
<details class="warning">
<summary>Modification par un hook</summary>
<p>Si le commit est modifié par un hook avec pre-commit, il suffit de <strong>staged à nouveau</strong> et de <strong>recommiter</strong>.</p>
</details>
<details class="info">
<summary>Lancer pre-commit indépendamment d'un commit</summary>
<p>Vous pouvez aussi utiliser <strong>pre-commit</strong> sans les git hooks</p>
<pre><code>pre-commit run
</code></pre>
<p>lance pre-commit sur les fichiers modifiés. <br><br></p>
<pre><code>pre-commit run --files [file]
</code></pre>
<p>lance pre-commit sur les fichiers indiqués. <br><br></p>
<pre><code>pre-commit run --all-files
</code></pre>
<p>lance pre-commit sur tous les fichiers. <br><br></p>
<pre><code>pre-commit run flake8
</code></pre>
<p>lance pre-commit avec le hook indiqué (ici, flake8).</p>
</details>

              
            </article>
          </div>
        </div>
        
          <a href="#" class="md-top md-icon" data-md-component="top" data-md-state="hidden">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"/></svg>
            Retour en haut de la page
          </a>
        
      </main>
      
        <footer class="md-footer">
  
    <nav class="md-footer__inner md-grid" aria-label="Pied de page">
      
        
        <a href="../variables_environnements/" class="md-footer__link md-footer__link--prev" aria-label="Précédent: Variables d&#39;environnements" rel="prev">
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
          </div>
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Précédent
              </span>
              Variables d'environnements
            </div>
          </div>
        </a>
      
      
        
        <a href="../vs_code/" class="md-footer__link md-footer__link--next" aria-label="Suivant: Visual Studio Code" rel="next">
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Suivant
              </span>
              Visual Studio Code
            </div>
          </div>
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"/></svg>
          </div>
        </a>
      
    </nav>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright &copy; 2021 - 2022 Pronochain
    </div>
  
  
</div>
      
        <div class="md-social">
  
    
    
      
      
    
    <a href="https://mobile.twitter.com/pronochain" target="_blank" rel="noopener" title="mobile.twitter.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    <script id="__config" type="application/json">{"base": "../../..", "features": ["navigation.tracking", "navigation.top"], "translations": {"clipboard.copy": "Copier dans le presse-papier", "clipboard.copied": "Copi\u00e9 dans le presse-papier", "search.config.lang": "fr", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Rechercher", "search.result.placeholder": "Taper pour d\u00e9marrer la recherche", "search.result.none": "Aucun document trouv\u00e9", "search.result.one": "1 document trouv\u00e9", "search.result.other": "# documents trouv\u00e9s", "search.result.more.one": "1 de plus sur cette page", "search.result.more.other": "# de plus sur cette page", "search.result.term.missing": "Non trouv\u00e9", "select.version.title": "S\u00e9lectionner la version"}, "search": "../../../assets/javascripts/workers/search.361d90f1.min.js"}</script>
    
    
      <script src="../../../assets/javascripts/bundle.289a2a4b.min.js"></script>
      
    
  </body>
</html>